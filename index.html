<!DOCTYPE html>
<html lang="eng">
    <head>
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>Predictive Maintenance</title>
        <link rel="stylesheet" href="{{ "/assets/css/design.css" | relative_url}}">
      
    </head>
    <body>
        <div class="home">
           <form action="/upload" class="dropbox-btn">

            <input type="hidden" name="file_namme" value="data.csv"/>
            <button id="dropbox-btn">Choose file from Dropbox</button>
           </form>
        </div>


        <script>
    // Add an event listener to the button
    document.getElementById('dropbox-btn').addEventListener('click', function () {
        // Open the Chooser dialog
        Dropbox.choose({
            success: function (files) {
                if (files[0].name.endsWith('.csv')) {
                    document.getElementById('upload-btn').click();
                }else{
                    alert('Please Upload a CSV file.');
                // Handle the selected files
                console.log(files);
            }
            cancel: function () {
            },
            linkType: 'direct',
            multiselect: false 
            extensions: ['.csv']
        });
            Dropbox.choose(options);
    });
</script>
         <script src="https://www.dropbox.com/static/api/2/dropins.js" id="dropboxjs" data-app-key="2j0vwsb4gwpqnbc"></script>

        <script src="jvs.js"></script>
    </body>
</html>
